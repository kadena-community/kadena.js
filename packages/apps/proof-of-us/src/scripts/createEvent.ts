import { uploadImageString } from '@/pages/api/uploadimage';
import { uploadMeta } from '@/pages/api/uploadmeta';
import type { ChainId } from '@kadena/client';
import {
  Pact,
  createSignWithChainweaver,
  isSignedTransaction,
} from '@kadena/client';
import { PactNumber } from '@kadena/pactjs';
import dotenv from 'dotenv';
import { getClient } from '../utils/client';
import { createManifest } from '../utils/createManifest';
import { createHashData } from '../utils/upload';

dotenv.config();

// This account will be used to create the event, must be added to the keyset on testnet. Ask Jermaine
/* Often used keys:
Ghislain: dde39b7430db47ea354ec4b895535b58466c4c47ee620e44bce48f7648a4cc59
Steven: 1c835d4e67917fd25781b11db1c12efbc4296c5c7fe981d35bbcf4a46a53441f
*/
const creatorPublicKey =
  '1c835d4e67917fd25781b11db1c12efbc4296c5c7fe981d35bbcf4a46a53441f';

// This account will be used to send the creation tx, must be different from the creatorPublicKey
/*
Often used keys:
Ghislain: f896955bc5ad89e40512ebe8cb4e61b3bc0c7205daf67c1bd648924c203c61c5
Steven: 805b2e339ca8dedb16c4132f149a0f2e4c0d5527cf9eae10aebc133a0339905f
*/
const senderPubKey =
  'db601702162a84e6561d4cd6011c420b63c65214151cf4c40aeaf526abc3a5f9';
const namespace = 'n_31cd1d224d06ca2b327f1b03f06763e305099250';
const collectionId = process.env.NEXT_PUBLIC_CONNECTION_COLLECTIONID ?? '';

const eventName = 'Welcome Kadenian!';
const startTime = Math.round(new Date(2024, 5, 27, 9, 45).getTime() / 1000);
const endTime = Math.round(new Date(2199, 5, 15, 23, 15).getTime() / 1000);
const bgColor = '#0F1D2D';

console.log({
  startime: new Date(startTime * 1000),
  endtime: new Date(endTime * 1000),
});

const eventType: TokenType = 'attendance';
const imageBase64Str =
  'data:image/png;base64,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';

const kadenaClient = getClient(process.env.NEXT_PUBLIC_CHAINWEBAPIURL ?? '');

const createEventId = async () => {
  const transaction = Pact.builder
    .execution(
      `(${namespace}.proof-of-us.create-event-id "${eventName}" ${startTime} ${endTime}
)`,
    )
    .setNetworkId(process.env.NEXT_PUBLIC_NETWORKID ?? '')
    .setMeta({
      chainId: process.env.NEXT_PUBLIC_CHAINID as ChainId,
    })
    .createTransaction();

  const result = await kadenaClient.local(transaction, {
    preflight: false,
    signatureVerification: false,
  });

  return result.result.status === 'success'
    ? (result.result.data as string)
    : null;
};

const createEvent = async () => {
  const eventId = await createEventId();

  const proofOfUs = {
    eventId,
    type: eventType,
    title: eventName,
    mintStatus: 'init',
    backgroundColor: bgColor,
    status: 3,
    date: startTime * 1000,
  };

  const imageDataResult = await uploadImageString(imageBase64Str);
  const imageData = createHashData(imageDataResult);

  if (!imageData) {
    console.log('ERROR!  no imagedata');
    return;
  }

  // @ts-expect-error WebAuthn is not yet added to the @kadena/client types
  const manifest = await createManifest(proofOfUs, [], imageData.url);
  const metadataResult = await uploadMeta(manifest);

  const metadata = createHashData(metadataResult);

  if (!metadata) {
    console.log('ERROR no metadata');
    return;
  }

  const unsignedTx = Pact.builder
    .execution(
      `(${namespace}.proof-of-us.create-event
            "${collectionId}" "${eventName}"
            "${metadata.url}"
            ${startTime}
            ${endTime}
            )`,
    )
    .addData('collection_id', collectionId)
    .addData('event_id', `${eventId}`)
    .addData('creator-guard', {
      pred: 'keys-any',
      keys: [creatorPublicKey],
    })
    .setNetworkId(process.env.NEXT_PUBLIC_NETWORKID ?? '')
    .setMeta({
      chainId: process.env.NEXT_PUBLIC_CHAINID as ChainId,
      senderAccount: `k:${senderPubKey}`,
    })
    .addSigner(creatorPublicKey, (withCap) => [
      withCap(
        `${namespace}.proof-of-us-gas-station.GAS_PAYER`,
        `k:${creatorPublicKey}`,
        new PactNumber(2500).toPactInteger(),
        new PactNumber(1).toPactDecimal(),
      ),
      withCap(
        `${namespace}.proof-of-us.EVENT`,
        collectionId,
        eventId,
        eventName,
        metadata.url,
      ),
    ])
    .addSigner(senderPubKey)
    .createTransaction();

  console.log({ unsignedTx });

  const signWithChainweaver = createSignWithChainweaver();
  const signedTx = await signWithChainweaver(unsignedTx);

  console.log(signedTx);

  if (!isSignedTransaction(signedTx)) throw Error('Not a signed transaction');

  const polldata = await kadenaClient.submit(signedTx);
  console.log(`CREATE-TOKEN requestKey: ${polldata.requestKey}`);

  const { result } = (await kadenaClient.pollStatus(polldata))[
    polldata.requestKey
  ];

  if (result.status !== 'success') {
    console.log('ERROR', result);
    return;
  } else {
    console.log(`\n\nTOKEN CREATED!`, result.data);
    console.log(
      'Scan URL:',
      `https://devworld.kadena.io/scan/e/${result.data}`,
    );
    console.log(`\n\n`);
  }

  console.log('start upload');

  console.log({
    imageCid: imageData.data.cid.toString(),
    imageDataURL: imageData.url,
    metadataCid: metadata.data.cid.toString(),
    metadataURL: metadata.url,
  });
};

createEvent();
