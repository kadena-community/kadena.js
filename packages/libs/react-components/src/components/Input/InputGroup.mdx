import { useState } from 'react';
import { Meta, Story, Canvas } from '@storybook/blocks';
import * as InputGroupStories from './InputGroup.stories';
import { InputGroup, Input } from './';
import { Grid } from '../Grid';
import { SystemIcons } from '../Icons';

export const AddressBox = () => {
  const [city, setCity] = useState("");
  const [street, setStreet] = useState("");
  const [houseNumber, setHouseNumber] = useState("");
  const [postalCode, setPostalCode] = useState("");

const cityStatus = city.length > 2 ? "success" : "error"; const streetStatus =
street.length > 5 ? "success" : "error"; const houseNumberStatus =
houseNumber.length > 0 ? "success" : "error"; const postalCodeStatus =
postalCode.length > 1 ? "success" : "error";

const addressStatus = [cityStatus, streetStatus, houseNumberStatus,
postalCodeStatus].includes("error") ? "error" : "success";

return ( <InputGroup helper={addressStatus === "error" ? "something is wrong" :
"address is valid"} info={"(Required)"} label={"Address"}
status={addressStatus} > <Grid.Container> <Grid.Item colStart={1} colEnd={14}>

<Input leftPanel={SystemIcons["Earth"]} placeholder={'Enter city name'}
city={city} onChange={e => setCity(e.target.value)} status={cityStatus} />
</Grid.Item> <Grid.Item colStart={1} colEnd={14}> <Input
leftPanel={SystemIcons["MapMarker"]} placeholder={'Enter street name'}
value={street} onChange={e => setStreet(e.target.value)} status={streetStatus}
/> </Grid.Item> <Grid.Item colStart={1} colEnd={10}> <Input
leftPanel={SystemIcons["AlertBoxOutline"]} placeholder={'Enter house number'}
value={houseNumber} onChange={e => setHouseNumber(e.target.value)}
status={houseNumberStatus} /> </Grid.Item> <Grid.Item colStart={10} colEnd={14}>
<Input leftPanel={SystemIcons["EmailOutline"]} placeholder={'Enter postal code'}
value={postalCode} onChange={e => setPostalCode(e.target.value)}
status={postalCodeStatus} /> </Grid.Item> </Grid.Container> </InputGroup> ) }

<Meta title="MDX/InputGroup" of={InputGroupStories} />

# Inout Group

With `InputGroup` component we can wrap multiple `Input`s and group them
together with single helper text, label, info, and tag!

<Canvas>
  <AddressBox />
</Canvas>
